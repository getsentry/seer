"{\"problems\": [{\"description\": \"\\n            The AttributeError 'NoneType' object has no attribute 'replace' suggests that a None value is being \\n            encountered where a datetime object is expected. The error occurs on the line where \\n            rule.before(reference_ts).replace(second=0, microsecond=0) is called, which indicates that \\n            rule.before(reference_ts) is returning None.\\n        \", \"code_snippets\": [{\"code\": \"\\n            return rule.before(reference_ts).replace(second=0, microsecond=0)\\n        \", \"filename\": \"src/sentry/monitors/schedule.py\", \"description\": null}]}, {\"description\": \"\\n            The root cause of this problem would be that no previous rule could be found before reference_ts. \\n            This can happen if the dtstart is after reference_ts or if there are no occurrences of the \\n            schedule before reference_ts.\\n        \", \"code_snippets\": [{\"code\": \"\\n            rule = rrule.rrule(\\n                freq=SCHEDULE_INTERVAL_MAP[schedule.unit],\\n                interval=schedule.interval,\\n                dtstart=start_ts,\\n                until=reference_ts,\\n            )\\n        \", \"filename\": \"src/sentry/monitors/schedule.py\", \"description\": null}]}, {\"description\": \"\\n            The task mark_environment_missing is called without validation that most_recent_expected_ts is not \\n            None before attempting to replace attributes on it. This leads to the AttributeError being thrown \\n            when most_recent_expected_ts is None.\\n        \", \"code_snippets\": [{\"code\": \"\\n            most_recent_expected_ts = get_prev_schedule(\\n                expected_time.astimezone(monitor.timezone),\\n                ts.astimezone(monitor.timezone),\\n                monitor.schedule,\\n            )\\n        \", \"filename\": \"src/sentry/monitors/tasks.py\", \"description\": null}]}]}"
