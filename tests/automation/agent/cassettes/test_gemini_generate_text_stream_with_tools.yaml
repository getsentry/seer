interactions:
- request:
    body: grant_type=refresh_token&client_id=764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '268'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.32.2
      x-goog-api-client:
      - gl-python/3.11.0rc1 auth/2.37.0 cred-type/u
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/72RN5ejSBSF8/kVfTreVgvXEpPhhBEgYYRLOFB4b4WoOfvfF3qCCSfb9Fa9e9+7
        368fb2/vAQDxOPpTW8bN+8+39zVAyUNwpHSbqE+ESdiBYw53XnYVBHsCGhfurAYfzoRPEspLyQTL
        p9U8Gn5sMSC0w4PTwOr4dXHOe3IhR8vz0l7vzfZVIJVxf1yerqmfaZpuBHzh8Cqa5/45l8/7dMPn
        xVAKjB91KESYzor3ryyyrDqyBJ+6mqe+GeEpntR6vDeo8TIllrk6ehowqXulDNygdM64aALvoEre
        pEYxCMyyriNyc6YLmQWpuByR0+n9n/3q+NXlQzz6+X4zRpDktzqCtov3ErJp6safn5/LshzStk2r
        OOjy8QDa+jOYp+xzHuMhb5L2ENdBXr397fvYV9vAMwfxoWrTvPnrAKjaOfroqmBK2qF+27Zq8uj3
        5t+g/Gn9vSgdB0M8/H7Joz8U41XKQh7kt1wyHlBE1FwcxXrqPEb8EouUcNEHVM0Sd6GGKeilVmyp
        3MDkXu0Sqv1AXZhiCnSPqkmtCrupNZfLjHSMHWr3vFqIlifaYYvpAKbsUhsJ+gJg+5TRS+GiJBI2
        OpTr6Bmi0egZRBGix90ii5vdQsTUQlturLuoJodvMZPaXFZVoFAPozu1zuZNQ4Gg4Z7dIcBMoceX
        UGUvbeSIs+vQC1iJJkTJJuQtBKDWumXOEW/NEfMnK7K1/ysLRra4Z70UNiVU6EIVUoRSPHCl0ODN
        TI9KIe7/2m8EjVpt/ayxQXThuqOxJteuRrFoc1CTrWvjs2tHGWiiLORo6NnEETTlHNjn3aMK7UsX
        XkjUc6TOq6tq94wECfGMJXcdPQn4Cwz2nJqcA8crQRkRipPRN4tejBKRw/I1B9U30s51to4Kbse9
        odZQhQX7PjjY5hUTQLUQt+7ERcWOB/UqmTBGGb6BQkuOZ7WeVTdBk4GJBY9ar1yGmexU3Iyot41O
        yRUGXclFvOPeF0tT/JLQMnNmbAVMJpb1gKHvXOhnrPyoz/7xah99JZCmzl5v42ktytnpb7aaXE/9
        V3nqpd5tpln84tNBZgWyv6AteS1ymQtLKcnMs3D6claeQV5R9YGyWpdGS3lMJAyJxV4kdf0m8xnH
        G7hzu9PpmvnweLuaBf60KB5HwcctbfzEGyyCwjMMPUtmxaWugPrnZRymUgGSIqd6sYCzKfRqVhuG
        +uRd6j7FPgFrQjd60dSuyLCcRqe35ld7n5a5LrFslHmJLJKPgvdncJQHEnJs+KxIneexfiogFqXv
        P/79D5FtPTmLBQAA
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 Jan 2025 23:03:27 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please invoke test_function with x =
      ''i love poetry'' and write a haiku about the night sky."}], "role": "user"}],
      "tools": [{"functionDeclarations": [{"description": "A test function", "name":
      "test_function", "parameters": {"type": "OBJECT", "properties": {"x": {"type":
      "STRING", "description": ""}}, "required": []}}]}], "generationConfig": {"temperature":
      0.0, "maxOutputTokens": 8192, "responseModalities": ["TEXT"]}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '457'
      Content-Type:
      - application/json
      authorization:
      - redacted
      user-agent:
      - google-genai-sdk/0.2.2 gl-python/3.11.0rc1
      x-goog-api-client:
      - google-genai-sdk/0.2.2 gl-python/3.11.0rc1 cred-type/u
      x-goog-user-project:
      - super-big-data
    method: POST
    uri: https://us-central1-aiplatform.googleapis.com/v1beta1/projects/ml-ai-420606/locations/us-central1/publishers/google/models/gemini-2.0-flash-exp:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"role\": \"model\",\"parts\":
        [{\"functionCall\": {\"name\": \"test_function\",\"args\": {\"x\": \"i love
        poetry\"}}}]}}],\"usageMetadata\": {},\"modelVersion\": \"gemini-2.0-flash-exp\"}\r\n\r\ndata:
        {\"candidates\": [{\"content\": {\"role\": \"model\",\"parts\": [{\"text\":
        \"\\n\"}]},\"finishReason\": \"STOP\"}],\"usageMetadata\": {\"promptTokenCount\":
        29,\"candidatesTokenCount\": 8,\"totalTokenCount\": 37},\"modelVersion\":
        \"gemini-2.0-flash-exp\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Mon, 06 Jan 2025 23:03:28 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
