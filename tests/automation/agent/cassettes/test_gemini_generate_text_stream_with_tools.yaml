interactions:
- request:
    body: grant_type=refresh_token&client_id=764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '268'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.32.2
      x-goog-api-client:
      - gl-python/3.11.0rc1 auth/2.37.0 cred-type/u
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAJWsfmcC/4WPPQ7CMAxGrxJlhmRADO1lqshxW4s0DrFLQYi705aFAYn1+5Hee9oAgCKd8gWz
        bY2tGAMoRnswFu+FKkpHW3M6N82aCXDBbTiqFmm9X5bFDcxDwlBIHPDkw6yjnwUr5Z4dToGS+TeX
        a1oPNwJ0iQfKfw+QeI7HkoL2XCezUmXaqXeVTh8fzG8fij88X2+ZUVKkBAEAAA==
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 Jan 2025 23:03:27 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please invoke test_function with x =
      ''i love poetry'' and write a haiku about the night sky."}], "role": "user"}],
      "tools": [{"functionDeclarations": [{"description": "A test function", "name":
      "test_function", "parameters": {"type": "OBJECT", "properties": {"x": {"type":
      "STRING", "description": ""}}, "required": []}}]}], "generationConfig": {"temperature":
      0.0, "maxOutputTokens": 8192, "responseModalities": ["TEXT"]}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '457'
      Content-Type:
      - application/json
      authorization:
      - redacted
      user-agent:
      - google-genai-sdk/0.2.2 gl-python/3.11.0rc1
      x-goog-api-client:
      - google-genai-sdk/0.2.2 gl-python/3.11.0rc1 cred-type/u
      x-goog-user-project:
      - super-big-data
    method: POST
    uri: https://us-central1-aiplatform.googleapis.com/v1beta1/projects/ml-ai-420606/locations/us-central1/publishers/google/models/gemini-2.0-flash-exp:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"role\": \"model\",\"parts\"\
        : [{\"functionCall\": {\"name\": \"test_function\",\"args\": {\"x\": \"i love\
        \ poetry\"}}}]}}],\"usageMetadata\": {},\"modelVersion\": \"gemini-2.0-flash-exp\"\
        }\r\n\r\ndata: {\"candidates\": [{\"content\": {\"role\": \"model\",\"parts\"\
        : [{\"text\": \"\\n\"}]},\"finishReason\": \"STOP\"}],\"usageMetadata\": {\"\
        promptTokenCount\": 29,\"candidatesTokenCount\": 8,\"totalTokenCount\": 37},\"\
        modelVersion\": \"gemini-2.0-flash-exp\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Mon, 06 Jan 2025 23:03:28 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
